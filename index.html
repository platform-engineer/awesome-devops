<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CSV to HTML Table</title>
<style>
table {
  width: 100%;
  border-collapse: collapse;
}

table, th, td {
  border: 1px solid black;
}

th, td {
  padding: 8px;
  text-align: left;
}

th {
  background-color: #f2f2f2;
}
</style>
</head>
<body>

<h2>CSV to Table</h2>
<table id="csvTable">
  <thead>
    <!-- Column names will be added here dynamically -->
  </thead>
  <tbody>
    <!-- Table rows will be dynamically added here -->
  </tbody>
</table>

<script>
// Function to fetch CSV from URL, parse it, and update the table
function fetchCsvAndPopulateTable(csvUrl) {
  fetch(csvUrl)
    .then(response => response.text())
    .then(csvText => {
      // Split CSV text by lines
      const lines = csvText.trim().split(/\r?\n/);

      // Extract headers
      const headers = lines.shift().split(',');

      // Generate the table header
      const theadHtml = headers.map(header => `<th>${header.trim()}</th>`).join('');
      document.getElementById('csvTable').querySelector('thead').innerHTML = `<tr>${theadHtml}</tr>`;

      // Populate the table body
      const tbody = document.getElementById('csvTable').querySelector('tbody');
      lines.forEach(line => {
        const rowHtml = line.split(',').map(cell => `<td>${cell.trim()}</td>`).join('');
        tbody.innerHTML += `<tr>${rowHtml}</tr>`;
      });
    })
    .catch(error => {
      console.error('Error fetching the CSV file:', error);
    });
}

// Specify the CSV file URL here
const csvUrl = 'csv/iac.csv';

// Call the function to fetch the CSV data and populate the table
fetchCsvAndPopulateTable(csvUrl);
</script>

</body>
</html>